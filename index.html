<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ù…Ù†ØµØ© Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø³ÙƒØ± â€” Ø¥Ø¹Ø¯Ø§Ø¯ Firebase</title>
<style>
  :root{
    --brand:#0ea5e9; --brand2:#6ee7b7; --ink:#0f172a; --muted:#64748b;
    --card:#ffffff; --bg:#f6fbff; --line:#e5e7eb; --danger:#ef4444; --ok:#16a34a;
  }
  *{box-sizing:border-box}
  body{margin:0;font:15px/1.6 system-ui,"Tajawal","Noto Sans Arabic",sans-serif;background:linear-gradient(135deg,var(--brand),var(--brand2)) fixed;color:var(--ink)}
  header{color:#fff;padding:18px}
  header h1{margin:0;font-size:20px}
  main{max-width:1000px;margin:auto;padding:18px}
  .card{background:var(--card);border:1px solid var(--line);border-radius:16px;box-shadow:0 10px 40px rgba(0,0,0,.06);padding:16px;margin-bottom:14px}
  .grid{display:grid;gap:12px;grid-template-columns:repeat(2,minmax(0,1fr))}
  @media(max-width:820px){.grid{grid-template-columns:1fr}}
  .btn{border:none;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer}
  .btn.primary{background:var(--brand);color:#fff}
  .btn.gray{background:#eef2f7}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .badge{display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border-radius:999px;font-weight:700}
  .ok{background:#ecfdf5;color:#065f46}
  .warn{background:#fff7ed;color:#9a3412}
  .err{background:#fef2f2;color:#991b1b}
  code{background:#f8fafc;border:1px solid var(--line);padding:3px 6px;border-radius:6px}
  .links{display:flex;flex-wrap:wrap;gap:10px}
  .link-btn{display:inline-block;background:#ffffff;border:1px solid var(--line);padding:12px 14px;border-radius:12px;text-decoration:none;color:#0f172a;min-width:160px;text-align:center}
  .link-btn:hover{border-color:#cbd5e1}
  footer{color:#e6faff;text-align:center;padding:10px}
</style>
</head>
<body>
<header>
  <h1>Ù…Ù†ØµØ© Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø³ÙƒØ± â€” Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</h1>
  <div style="opacity:.9">Ø§Ù„ØµÙØ­Ø© Ø¯ÙŠ Ø¨ØªØ¬Ù‡Ù‘Ø² Firebase ÙˆØªØ¬Ù…Ø¹ ÙƒÙ„ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©.</div>
</header>

<main>
  <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ -->
  <section class="card">
    <div class="row" style="justify-content:space-between">
      <div class="row">
        <span id="sdkBadge" class="badge warn">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Firebaseâ€¦</span>
        <span id="authBadge" class="badge warn">Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ</span>
      </div>
      <div class="row">
        <button id="btnLogout" class="btn gray" title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬">Ø®Ø±ÙˆØ¬</button>
      </div>
    </div>
    <div style="margin-top:8px;color:var(--muted)">
      Project: <code id="proj"></code> â€¢ AppId: <code id="appId"></code>
    </div>
    <div id="userBox" style="margin-top:10px"></div>
  </section>

  <!-- Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙØ­Ø§Øª (Placeholders) -->
  <section class="card">
    <h3 style="margin:0 0 8px">ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</h3>
    <div class="links">
      <a class="link-btn" href="register.html">ğŸ“ ØªØ³Ø¬ÙŠÙ„ ÙˆÙ„ÙŠÙ‘ Ø£Ù…Ø± (Register)</a>
      <a class="link-btn" href="login.html">ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Login)</a>
      <a class="link-btn" href="dashboard.html">ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Dashboard)</a>
      <a class="link-btn" href="child.html">ğŸ‘§ Ø¥Ø¯Ø§Ø±Ø© Ø·ÙÙ„ (Child)</a>
      <a class="link-btn" href="measure.html">ğŸ©º ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª (Measurements)</a>
      <a class="link-btn" href="report.html">ğŸ“„ ØªÙ‚Ø§Ø±ÙŠØ± Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ† (Reports)</a>
    </div>
    <div style="margin-top:10px;color:var(--muted)">
      * Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø£Ø¹Ù„Ø§Ù‡ Ù…Ø¬Ø±Ø¯ Ø¥Ø´Ø§Ø±Ø§Øª â€” Ù‡Ù†ÙƒÙ…Ù‘Ù„ ÙƒÙ„ ØµÙØ­Ø© ÙÙŠ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¬Ø§ÙŠØ© Ø¨Ù†ÙØ³ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ©.âœ”ï¸
    </div>
  </section>

  <!-- Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø³Ø±ÙŠØ¹Ø© -->
  <section class="card">
    <h3 style="margin:0 0 8px">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</h3>
    <ul style="margin:0 0 0 18px;line-height:1.9">
      <li>Ù„Ùˆ Ø§Ù„Ø²Ø± â€œØ®Ø±ÙˆØ¬â€ ØºÙŠØ± ÙØ¹Ù‘Ø§Ù„ØŒ ÙŠØ¨Ù‚Ù‰ Ù…ÙÙŠØ´ Ù…Ø³ØªØ®Ø¯Ù… Ø¯Ø§Ø®Ù„ Ø­Ø§Ù„ÙŠÙ‹Ø§.</li>
      <li>Analytics ØªØ´ØªØºÙ„ Ø£ÙØ¶Ù„ Ø¹Ù„Ù‰ <code>https</code> Ø£Ùˆ <code>localhost</code>.</li>
      <li>Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©: Ø¨Ù†Ø§Ø¡ <b>register.html</b> Ùˆ <b>login.html</b> (Ø¬Ø§Ù‡Ø²ÙŠÙ† Ø¹Ù†Ø¯Ù†Ø§) ÙˆØ±Ø¨Ø·Ù‡Ù… Ø¨Ø§Ù„ØµÙØ­Ø© Ø¯ÙŠ.</li>
    </ul>
  </section>
</main>

<footer>Â© Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø³ÙƒØ± Ù„Ù„Ø£Ø·ÙØ§Ù„ â€” Ø¬Ø§Ù‡Ø²ÙŠÙ† Ù„Ù„Ø§Ù†Ø·Ù„Ø§Ù‚</footer>

<!-- Firebase setup (Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙˆØ¯Ùƒ) -->
<script type="module">
  // Ø§Ø³ØªÙŠØ±Ø§Ø¯ SDKs
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";

  // ğŸ”§ Firebase config (Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù…Ø´Ø±ÙˆØ¹Ùƒ)
  const firebaseConfig = {
    apiKey: "AIzaSyCOdrwdbw8b7YdWLPZ4TDdG2iS9kvvxQ7M",
    authDomain: "child-glucose-tracker.firebaseapp.com",
    projectId: "child-glucose-tracker",
    storageBucket: "child-glucose-tracker.firebasestorage.app",
    messagingSenderId: "294563325904",
    appId: "1:294563325904:web:39562550bf305fc01abbd5",
    measurementId: "G-TWC063TD6X"
  };

  // â–¶ï¸ ØªÙ‡ÙŠØ¦Ø© Firebase
  const app = initializeApp(firebaseConfig);
  let analytics = null;
  try { analytics = getAnalytics(app); } catch(e){ /* Ù‚Ø¯ Ù„Ø§ ØªØ¹Ù…Ù„ Ø®Ø§Ø±Ø¬ https/localhost */ }

  // Ø®Ø¯Ù…Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ© Ù‡Ù†Ø­ØªØ§Ø¬Ù‡Ø§ ÙÙŠ Ø¨Ù‚ÙŠØ© Ø§Ù„ØµÙØ­Ø§Øª
  const auth = getAuth(app);
  const db   = getFirestore(app);

  // ===== ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø³ÙŠØ·Ø© ØªÙˆØ¶Ø­ Ø§Ù„Ø­Ø§Ù„Ø© =====
  const $ = s => document.querySelector(s);
  $('#proj').textContent = firebaseConfig.projectId;
  $('#appId').textContent = firebaseConfig.appId;

  const sdkBadge  = $('#sdkBadge');
  const authBadge = $('#authBadge');
  const userBox   = $('#userBox');

  // Ù„Ùˆ ÙˆØµÙ„Ù†Ø§ Ù‡Ù†Ø§ ÙŠØ¨Ù‚Ù‰ SDK Ø§Ø´ØªØºÙ„
  sdkBadge.textContent = 'Firebase Ù…ØªØµÙ„ ÙˆØ¬Ø§Ù‡Ø²';
  sdkBadge.className = 'badge ok';

  function showUser(u){
    if(u){
      authBadge.textContent = 'Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: Ø¯Ø§Ø®Ù„';
      authBadge.className = 'badge ok';
      userBox.innerHTML = `
        <div class="row">
          <div><b>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</b> ${u.displayName || 'â€”'}</div>
          <div><b>Ø§Ù„Ø¨Ø±ÙŠØ¯:</b> ${u.email}</div>
          <div><b>UID:</b> <code>${u.uid}</code></div>
        </div>`;
    }else{
      authBadge.textContent = 'Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: Ø®Ø§Ø±Ø¬';
      authBadge.className = 'badge err';
      userBox.innerHTML = '<span style="color:var(--muted)">Ù„ÙŠØ³ Ù‡Ù†Ø§Ùƒ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù†.</span>';
    }
  }

  onAuthStateChanged(auth, showUser);
  $('#btnLogout').addEventListener('click', ()=>signOut(auth).catch(()=>{}));
</script>
</body>
</html>
